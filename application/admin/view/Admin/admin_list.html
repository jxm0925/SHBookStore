<!DOCTYPE html>
<html lang="en">
   <head>
      <!-- BEGIN META --> 
	  <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="description" content="">
      <meta name="author" content="Custom Theme">
	  <!-- END META -->
     
      <!-- BEGIN SHORTCUT ICON -->
	  <link rel="shortcut icon" href="img/favicon.ico">
	  <!-- END SHORTCUT ICON -->
      <title>role</title>
	  
	  <!-- BEGIN STYLESHEET --> 
      <link href="__ADMIN_CSS__/bootstrap.min.css" rel="stylesheet"><!-- BOOTSTRAP CSS -->
      <link href="__ADMIN_CSS__/bootstrap-reset.css" rel="stylesheet"><!-- BOOTSTRAP CSS -->
      <link href="__ASSETS__/font-awesome/css/font-awesome.css" rel="stylesheet"><!-- FONT AWESOME ICON STYLESHEET -->
      <link rel="stylesheet" href="__ASSETS__/data-tables/DT_bootstrap.css"><!-- DATATABLE CSS -->
      <link href="__ADMIN_CSS__/style.css" rel="stylesheet"><!-- THEME BASIC CSS -->
      <link href="__ADMIN_CSS__/style-responsive.css" rel="stylesheet"><!-- THEME BASIC RESPONSIVE  CSS -->
      <!--[if lt IE 9]>
      <script src="__ADMIN_JS__/html5shiv.js"></script>
      <script src="__ADMIN_JS__/respond.min.js"></script>
      <![endif]-->
	  <!-- END STYLESHEET --> 
   </head>
   <body>
   <!-- BEGIN SECTION --> 
      {include file="common/admin/head.html"}

      {include file="common/admin/left.html"}
		 <!-- END SIDEBAR --> 
		 
		 <!-- BEGIN MAIN CONTENT --> 
         <section id="main-content">
		    <!-- BEGIN WRAPPER  -->
            <section class="wrapper site-min-height">
               <section class="panel">
                  <header class="panel-heading">
                     <span class="label label-primary">职能列表</span>
                     <span class="tools pull-right">
                     <a href="javascript:;" class="fa fa-chevron-down"></a>
                     <a href="javascript:;" class="fa fa-times"></a>
                     </span>
                  </header>
                  <div class="panel-body">
                     <div class="adv-table editable-table ">
                        <div class="clearfix">
                           <div class="btn-group">
                              <!--<button id="editable-sample_new" class="btn btn-success green">
                              新增 <i class="fa fa-plus"></i>-->
                              <a href="javascript:;" onclick="member_edit()" id="administrator_add" class="btn btn-warning"><i class="fa fa-plus"></i> 添加管理员</a>
                              </button>
                           </div>
                           <div class="btn-group pull-right">
                              <button class="btn btn-primary dropdown-toggle" data-toggle="dropdown">Tools <i class="fa fa-angle-down"></i>
                              </button>
                              <ul class="dropdown-menu pull-right">
                                 <li><a href="#">Print</a></li>
                                 <li><a href="#">Save as PDF</a></li>
                                 <li><a href="#">Export to Excel</a></li>
                              </ul>
                           </div>
                        </div>
                        <div class="space15"></div>
                          <table class="table table-bordered">
                            <caption>边框表格布局</caption>
                            <thead>
                              <tr>
                                <th>登录名</th>
                                <th>手机</th>
                                <th>角色</th>
                                <th>加入时间</th>
                                <th>状态</th>
                                <th>操作</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                <td>汤米</td>
                                <td>12345</td>
                                <td>管理员</td>
                                <td>2017-2</td>
                                <td>启用</td>
                                <td>
                                  <button>启用</button>
                                  <button>编辑</button>
                                  <button>删除</button>
                                </td>
                              </tr>
                              <tr>
                                <td>汤米</td>
                                <td>12345</td>
                                <td>管理员</td>
                                <td>2017-2</td>
                                <td>启用</td>
                                <td>
                                  <button>启用</button>
                                  <button>编辑</button>
                                  <button>删除</button>
                                </td>
                              </tr>
                              
                            </tbody>
                          </table>
                     </div>
                  </div>
                    <div>
                      <form class="form-horizontal" role="form">
                          <div class="form-group">
                            <label for="firstname" class="col-sm-1 col-sm-offset-2 control-label">登录名</label>
                            <div class="col-sm-8">
                              <input type="text" class="form-control" id="firstname" placeholder="请输入名字">
                            </div>
                          </div>
                          <div class="form-group">
                            <label for="firstname" class="col-sm-1 col-sm-offset-2 control-label">手机</label>
                            <div class="col-sm-8">
                              <input type="text" class="form-control" id="firstname" placeholder="请输入手机号">
                            </div>
                          </div>
                          <div class="form-group">
                            <label for="firstname" class="col-sm-1 col-sm-offset-2 control-label">角色</label>
                            <div class="col-sm-8">
                              <input type="text" class="form-control" id="firstname" placeholder="请输入角色">
                            </div>
                          </div>
                          <!--
                          <div class="form-group">
                            <label for="firstname" class="col-sm-1 col-sm-offset-2 control-label">加入时间</label>
                            <div class="col-sm-8">
                              <input type="text" class="form-control" id="firstname" placeholder="请输入时间">
                            </div>
                          </div>-->
                          
                          <div class="form-group">
                            <div class="col-sm-offset-4 col-sm-10">
                              <button type="submit" class="btn btn-default">提交</button>
                            </div>
                          </div>
                        </form>
                    </div>
                 <!--添加管理员-->
                   <div id="add_administrator_style" class="add_menber" style="display:none;margin-left:20px;">
                      <form action="" method="post" id="form-admin-add">
                      <div class="form-group">
                        <label class="form-label"><span class="c-red">*</span>管理员：</label>
                        <div class="formControls">
                          <input type="text" class="input-text" value="" placeholder="" id="user-name" name="user-name" datatype="*2-16" nullmsg="用户名不能为空">
                        </div>
                        <div class="col-4"> <span class="Validform_checktip"></span></div>
                      </div>
                      <div class="form-group">
                        <label class="form-label"><span class="c-red">*</span>初始密码：</label>
                        <div class="formControls">
                        <input type="password" placeholder="密码" name="userpassword" autocomplete="off" value="" class="input-text" datatype="*6-20" nullmsg="密码不能为空">
                        </div>
                        <div class="col-4"> <span class="Validform_checktip"></span></div>
                      </div>
                      <div class="form-group">
                        <label class="form-label "><span class="c-red">*</span>确认密码：</label>
                        <div class="formControls ">
                      <input type="password" placeholder="确认新密码" autocomplete="off" class="input-text Validform_error" errormsg="您两次输入的新密码不一致！" datatype="*" nullmsg="请再输入一次新密码！" recheck="userpassword" id="newpassword2" name="newpassword2">
                        </div>
                        <div class="col-4"> <span class="Validform_checktip"></span></div>
                      </div>
                      <div class="form-group">
                        <label class="form-label "><span class="c-red">*</span>性别：</label>
                        <div class="formControls  skin-minimal">
                            <label><input name="form-field-radio" type="radio" class="ace" checked="checked"><span class="lbl">保密</span></label>&nbsp;&nbsp;
                              <label><input name="form-field-radio" type="radio" class="ace"><span class="lbl">男</span></label>&nbsp;&nbsp;
                              <label><input name="form-field-radio" type="radio" class="ace"><span class="lbl">女</span></label>
                        </div>
                        <div class="col-4"> <span class="Validform_checktip"></span></div>
                      </div>
                      <div class="form-group">
                        <label class="form-label "><span class="c-red">*</span>手机：</label>
                        <div class="formControls ">
                          <input type="text" class="input-text" value="" placeholder="" id="user-tel" name="user-tel" datatype="m" nullmsg="手机不能为空">
                        </div>
                        <div class="col-4"> <span class="Validform_checktip"></span></div>
                      </div>
                      <div class="form-group">
                        <label class="form-label"><span class="c-red">*</span>邮箱：</label>
                        <div class="formControls ">
                          <input type="text" class="input-text" placeholder="@" name="email" id="email" datatype="e" nullmsg="请输入邮箱！">
                        </div>
                        <div class="col-4"> <span class="Validform_checktip"></span></div>
                      </div>
                      <div class="form-group">
                        <label class="form-label">角色：</label>
                        <div class="formControls "> <span class="select-box" style="width:150px;">
                          <select class="select" name="admin-role" size="1">
                            <option value="0">超级管理员</option>
                            <option value="1">管理员</option>
                            <option value="2">栏目主辑</option>
                            <option value="3">栏目编辑</option>
                          </select>
                          </span> </div>
                      </div>
                      <div class="form-group">
                        <label class="form-label">备注：</label>
                        <div class="formControls">
                          <textarea name="" cols="" rows="" class="textarea" placeholder="说点什么...100个字符以内" dragonfly="true" onkeyup="checkLength(this);"></textarea>
                          <span class="wordage">剩余字数：<span id="sy" style="color:Red;">100</span>字</span>
                        </div>
                        <div class="col-4"> </div>
                      </div>
                      <div> 
                          <input class="btn btn-primary radius" type="submit" id="Add_Administrator" value="&nbsp;&nbsp;提交&nbsp;&nbsp;">
                    </form>
                  </div>
                  </div>
               </section>
            </section>
         </section>
      </section>
	  <!-- END SECTION -->
<script src="__ADMIN_JS__/jquery-1.9.1.min.js"></script>
    <script src="__ASSETS__/layer/layer.js" type="text/javascript" ></script>
    <script src="__ASSETS__/laydate/laydate.js" type="text/javascript"></script>
<script>

jQuery(function($) {
    var oTable1 = $('#sample_table').dataTable( {
    "aaSorting": [[ 1, "desc" ]],//默认第几个排序
    "bStateSave": true,//状态保存
    "aoColumnDefs": [
      //{"bVisible": false, "aTargets": [ 3 ]} //控制列的隐藏显示
      {"orderable":false,"aTargets":[0,2,3,4,5,7,8,]}// 制定列不参与排序
    ] } );
        
        
        $('table th input:checkbox').on('click' , function(){
          var that = this;
          $(this).closest('table').find('tr > td:first-child input:checkbox')
          .each(function(){
            this.checked = that.checked;
            $(this).closest('tr').toggleClass('selected');
          });
            
        });
      
      
        $('[data-rel="tooltip"]').tooltip({placement: tooltip_placement});
        function tooltip_placement(context, source) {
          var $source = $(source);
          var $parent = $source.closest('table')
          var off1 = $parent.offset();
          var w1 = $parent.width();
      
          var off2 = $source.offset();
          var w2 = $source.width();
      
          if( parseInt(off2.left) < parseInt(off1.left) + parseInt(w1 / 2) ) return 'right';
          return 'left';
        }
      });

</script>
<script type="text/javascript">
$(function() { 
  $("#administrator").fix({
    float : 'left',
    //minStatue : true,
    skin : 'green', 
    durationTime :false,
    spacingw:50,//设置隐藏时的距离
      spacingh:270,//设置显示时间距
  });
});
//字数限制
function checkLength(which) {
  var maxChars = 100; //
  if(which.value.length > maxChars){
     layer.open({
     icon:2,
     title:'提示框',
     content:'您输入的字数超过限制!', 
    });
    // 超过限制的字数了就将 文本框中的内容按规定的字数 截取
    which.value = which.value.substring(0,maxChars);
    return false;
  }else{
    var curr = maxChars - which.value.length; //250 减去 当前输入的
    document.getElementById("sy").innerHTML = curr.toString();
    return true;
  }
};
//初始化宽度、高度  
 $(".widget-box").height($(window).height()-215); 
$(".table_menu_list").width($(window).width()-260);
 $(".table_menu_list").height($(window).height()-215);
  //当文档窗口发生改变时 触发  
    $(window).resize(function(){
  $(".widget-box").height($(window).height()-215);
   $(".table_menu_list").width($(window).width()-260);
    $(".table_menu_list").height($(window).height()-215);
  })
 laydate({
    elem: '#start',
    event: 'focus' 
});

/*用户-停用*/
function member_stop(obj,id){
  layer.confirm('确认要停用吗？',function(index){
    $(obj).parents("tr").find(".td-manage").prepend('<a style="text-decoration:none" class="btn btn-xs " onClick="member_start(this,id)" href="javascript:;" title="启用"><i class="fa fa-close bigger-120"></i></a>');
    $(obj).parents("tr").find(".td-status").html('<span class="label label-defaunt radius">已停用</span>');
    $(obj).remove();
    layer.msg('已停用!',{icon: 5,time:1000});
  });
}
/*用户-启用*/
function member_start(obj,id){
  layer.confirm('确认要启用吗？',function(index){
    $(obj).parents("tr").find(".td-manage").prepend('<a style="text-decoration:none" class="btn btn-xs btn-success" onClick="member_stop(this,id)" href="javascript:;" title="停用"><i class="fa fa-check  bigger-120"></i></a>');
    $(obj).parents("tr").find(".td-status").html('<span class="label label-success radius">已启用</span>');
    $(obj).remove();
    layer.msg('已启用!',{icon: 6,time:1000});
  });
}
/*产品-编辑*/
function member_edit(title,url,id,w,h){
  layer_show(title,url,w,h);
}

/*产品-删除*/
function member_del(obj,id){
  layer.confirm('确认要删除吗？',function(index){
    $(obj).parents("tr").remove();
    layer.msg('已删除!',{icon:1,time:1000});
  });
}
/*添加管理员*/
$('#administrator_add').on('click', function(){
  layer.open({
    type: 1,
  title:'添加管理员',
  area: ['700px',''],
  shadeClose: false,
  content: $('#add_administrator_style'),
  
  });
})
function member_edit(){
    layer.open({
        type: 1,
        title: '修改用户信息',
    maxmin: true, 
    shadeClose:false, //点击遮罩关闭层
        area : ['800px' , ''],
        content:$('#add_administrator_style'),
    btn:['提交','取消'],
    yes:function(index,layero){ 
     var num=0;
     var str="";
     $(".add_menber input[type$='text']").each(function(n){
          if($(this).val()=="")
          {
               
         layer.alert(str+=""+$(this).attr("name")+"不能为空！\r\n",{
                title: '提示框',       
        icon:0,               
          }); 
        num++;
            return false;            
          } 
     });
      if(num>0){  return false;}    
          else{
        layer.alert('添加成功！',{
               title: '提示框',        
      icon:1,   
        });
         layer.close(index);  
      }                     
    }
    });
}
  //表单验证提交
$("#form-admin-add").Validform({
    
     tiptype:2,
  
    callback:function(data){
    //form[0].submit();
    if(data.status==1){ 
                layer.msg(data.info, {icon: data.status,time: 1000}, function(){ 
                    location.reload();//刷新页面 
                    });   
            } 
            else{ 
                layer.msg(data.info, {icon: data.status,time: 3000}); 
            }       
      var index =parent.$("#iframe").attr("src");
      parent.layer.close(index);
      //
    }
    
    
  }); 

</script>

<!-- BEGIN JS --> 	
    <!-- <script src="js/jquery-1.9.1.min.js"></script>   -->
		<script src="__ADMIN_JS__/jquery-1.8.3.min.js" ></script><!-- BASIC JS LIABRARY 1.8.3 -->
		<script src="__ADMIN_JS__/bootstrap.min.js" ></script><!-- BOOTSTRAP JS  -->
		<script src="__ADMIN_JS__/jquery.dcjqaccordion.2.7.js"></script><!-- ACCORDING JS -->
		<script src="__ADMIN_JS__/jquery.scrollTo.min.js" ></script><!-- SCROLLTO JS  -->
		<script src="__ADMIN_JS__/jquery.nicescroll.js" > </script><!-- NICESCROLL JS  -->
		<script src="__ASSETS__/data-tables/jquery.dataTables.js"></script><!-- DATATABLE JS  -->
		<script src="__ASSETS__/data-tables/DT_bootstrap.js"></script><!-- DATATABLE JS  -->
		<script src="__ADMIN_JS__/respond.min.js" ></script><!-- RESPOND JS  -->
		<script src="__ADMIN_JS__/common-scripts.js" ></script><!-- BASIC COMMON JS  -->
		<script src="__ADMIN_JS__/editable-table.js" ></script><!-- EDITABLE TABLE JS  -->
    <script src="__ASSETS__/layer/layer.js" type="text/javascript" ></script>
    <script src="__ASSETS__/laydate/laydate.js" type="text/javascript"></script>

      <script >
	     <!-- EDITABLE TABLE FUNCTION  -->
         jQuery(document).ready(function() {
             EditableTable.init();
         });
      </script>
	  <!-- END JS --> 
   </body>
</html>


